<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Slots Store</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: var(--bg, #222);
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    .item {
      margin: 10px;
      padding: 15px;
      background: rgba(0,0,0,0.3);
      border-radius: 10px;
      display: inline-block;
      width: 200px;
    }
    button {
      margin-top: 10px;
      padding: 6px 12px;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #ff9800;
      color: #fff;
    }
    button:hover { background: #e68900; }
    a {
      display: inline-block;
      margin-top: 20px;
      color: #0af;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¨ Slots Store</h1>
  <p id="balance"></p>

  <div id="store"></div>

  <a href="index.html">â¬… Back to Game</a>

  <script>
    // Load balance
    let balance = parseFloat(localStorage.getItem("balance")) || 100;
    document.getElementById("balance").textContent = "Balance: $" + balance.toFixed(2);

    // Colors with exponential scaling prices
    const basePrice = 100;
    const colors = [
      {name: "Default Dark", color: "#222"},
      {name: "Red", color: "red"},
      {name: "Orange", color: "orange"},
      {name: "Yellow", color: "yellow"},
      {name: "Green", color: "green"},
      {name: "Blue", color: "blue"},
      {name: "Indigo", color: "indigo"},
      {name: "Violet", color: "violet"}
    ];

    // Cosmetic items (non-color)
    const cosmetics = [
      {name: "Golden Frame", type: "frame", value: "gold", price: 10000},
      {name: "Diamond Frame", type: "frame", value: "aqua", price: 1000000}
    ];

    // Load owned items
    let owned = JSON.parse(localStorage.getItem("ownedItems")) || ["#222"]; // Default always owned
    let currentColor = localStorage.getItem("bgColor") || "#222";
    let currentFrame = localStorage.getItem("frameStyle") || "none";

    const storeDiv = document.getElementById("store");

    // Add colors to store
    colors.forEach((c, i) => {
      let price = basePrice * Math.pow(10, i); // scale much faster
      let div = document.createElement("div");
      div.className = "item";
      div.style.border = "2px solid " + c.color;

      let btn = document.createElement("button");
      if (owned.includes(c.color)) {
        btn.textContent = (c.color === currentColor ? "Selected" : "Select");
        btn.onclick = () => {
          localStorage.setItem("bgColor", c.color);
          location.reload();
        };
      } else {
        btn.textContent = "Buy $" + price.toLocaleString();
        btn.onclick = () => {
          if (balance >= price) {
            balance -= price;
            owned.push(c.color);
            localStorage.setItem("balance", balance);
            localStorage.setItem("ownedItems", JSON.stringify(owned));
            localStorage.setItem("bgColor", c.color);
            location.reload();
          } else {
            alert("Not enough money!");
          }
        };
      }

      div.innerHTML = `<h3>${c.name}</h3>`;
      div.appendChild(btn);
      storeDiv.appendChild(div);
    });

    // Add cosmetics to store
    cosmetics.forEach(c => {
      let div = document.createElement("div");
      div.className = "item";
      div.style.border = "2px dashed " + (c.type === "frame" ? c.value : "#fff");

      let btn = document.createElement("button");
      if (owned.includes(c.name)) {
        btn.textContent = (c.value === currentFrame ? "Selected" : "Select");
        btn.onclick = () => {
          localStorage.setItem("frameStyle", c.value);
          location.reload();
        };
      } else {
        btn.textContent = "Buy $" + c.price.toLocaleString();
        btn.onclick = () => {
          if (balance >= c.price) {
            balance -= c.price;
            owned.push(c.name);
            localStorage.setItem("balance", balance);
            localStorage.setItem("ownedItems", JSON.stringify(owned));
            localStorage.setItem("frameStyle", c.value);
            location.reload();
          } else {
            alert("Not enough money!");
          }
        };
      }

      div.innerHTML = `<h3>${c.name}</h3>`;
      div.appendChild(btn);
      storeDiv.appendChild(div);
    });

    // Save balance display
    document.getElementById("balance").textContent = "Balance: $" + balance.toFixed(2);
  </script>
</body>
</html>
